# ===========================================
# Hospital Patient Information Management System - Application Configuration
# ===========================================
# Application Configuration
spring.application.name=hospital
server.port=8080

# ============================================
# Tomcat Access Log Configuration
# ============================================
server.tomcat.accesslog.enabled=true
server.tomcat.accesslog.directory=${user.dir}/logs/access
server.tomcat.accesslog.prefix=
server.tomcat.accesslog.file-date-format=yyyyMMdd
server.tomcat.accesslog.pattern=%h %l %u [%t] "%r" %s %b %D

# ============================================
# Directory Configuration
# ============================================
# Create directories automatically if not exist
spring.jpa.open-in-view=false
# Note: db/ and logs/ directories will be created automatically on startup

# ============================================
# JWT Configuration
# ============================================
jwt.secret=HospitalInfoManagementSecretKeyForJWTToken2026
jwt.expiration=86400000

# ============================================
# Swagger API Documentation Configuration
# ============================================
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.operations-sorter=alpha
springdoc.api-docs.path=/v3/api-docs
springdoc.group-configs[0].group=v1
springdoc.group-configs[0].paths-to-match=/api/v1/**
springdoc.group-configs[0].packages-to-scan=com.graduation.hospital.controller
springdoc.group-configs[1].group=v2
springdoc.group-configs[1].paths-to-match=/api/v2/**
springdoc.group-configs[1].packages-to-scan=com.graduation.hospital.controller
# Note: Redis auto-configuration has been disabled in HospitalApplication.java via @SpringBootApplication(exclude={...})
# Spring Security default password generation disabled (using custom configuration)
spring.security.user.name=admin
spring.security.user.password=admin123456
# JVM parameters: Enable SQLite JDBC native library access (Java 25 feature)
# Configure in gradle.properties or launch parameters in development environment
# spring.devtools.restart.additional-exclude=
# ============================================
# Development Environment: SQLite Database Configuration
# ============================================
spring.datasource.driver-class-name=org.sqlite.JDBC
spring.datasource.url=jdbc:sqlite:db/hospital.db
# SQLite does not require username and password
spring.datasource.username=
spring.datasource.password=
# JPA/Hibernate Configuration (SQLite)
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.community.dialect.SQLiteDialect
spring.jpa.open-in-view=false
# SQL logging interceptor (enabled when logging.db.log-sql=true)
spring.jpa.properties.hibernate.session_factory.statement_inspector=com.graduation.hospital.common.log.db.SqlLoggingInterceptor
# ============================================
# Logging Configuration
# ============================================
# File logging switch (enabled by default)
logging.file.enabled=true

# Database logging configuration
logging.db.enabled=true
logging.db.split-mode=DAY
logging.db.retention-days=90
logging.db.log-sql=true
logging.db.log-audit=true
logging.db.log-access=true
logging.db.database-path=db/hospital.log.db
logging.db.batch-size=100
logging.db.flush-interval=5000

# Log levels
logging.level.com.graduation.hospital=debug
logging.level.org.hibernate.SQL=debug
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace
# ============================================
# Production Environment: MySQL Database Configuration (commented out)
# ============================================
#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
#spring.datasource.url=jdbc:mysql://localhost:3306/hospital?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
#spring.datasource.username=root
#spring.datasource.password=123456
#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect